<!-- Code referenced from https://github.com/uwdata/bayesian-surprise-->

<html>
    <head>
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="https://d3js.org/queue.v1.min.js"></script>
    <script src="https://d3js.org/colorbrewer.v1.min.js"></script>
    <script src="./visualization.js"></script>
    </head>
    <body>
    <div id="main"></div>
    <div id="slider">
        <p id="yearLabel">2016</p>
        <input type="range" id="year" value="2016" min="2016" max="2021" step = "1" oninput="update()" />
    </div>
    <div id="models">
        <div id="mLabel">
        <p>Expected</p>
        <p>Observed - Expected</p>
        <p>Belief Over Time</p>
        </div>
        <div id="uniform" class="model">
        <p>Uniform<br />
        <span class="caption">All states have the same rate.</span>
        </p>
        </div>
        <div id="boom" class="model">
        <p>Boom (End of 2016 Recession) <br/>
        <span class="caption">All states have the rate they had in 2016.</span>
        </p>
        </div>
        <div id="bust" class="model">
        <p>Bust (A Year After COVID-19 Pandemic)<br/>
        <span class="caption">All states have the rate they had in 2021.</span>
        </p>
        </div>
    </div>
    <div id="readme">
        <p>A sample Surprise Map of U.S. average unemployment from 2016-2021 to analyze the impact covid had on unemployement. Code used has been referenced from <a href="https://github.com/uwdata/bayesian-surprise">https://github.com/uwdata/bayesian-surprise</a></p>

        <p>The large map on the left shows the data - the unemployment rate per state. The large map on the right shows the <i>surprise</i>: what states have the most unexpected unemployment rates? Red are surprisingly high values, blue are surprising low. Driving the surprise are three <i>models of expectation</i>:
        </p>
        <p>
        <ul>
        <li> A <i>uniform</i> model, which assumes all states will have an equal amount of unemployment. </li>
        <li> A <i>boom</i> model, which assumes states will have the same rate of unemployment as during a recent economic expansion in 2016. </li>
        <li> A <i>bust</i> model, which assumes states will have the same rate of unemployment as during a recent economic recession in 2021. </li>
        </ul>
        </p>
        <p>
        We show the <i>expected</i> values predicted by each model, as well as the difference between the <i>observed</i> and <i>expected</i> values. After each year, we use this difference to update our beliefs about the models. Small differences mean good evidence, large differences are good counter-evidence. Large shifts in belief cause surprise. Use the slider to navigate between years, and see how the surprise map changes over time.
        </p>
    </div>
    </body>
</html>